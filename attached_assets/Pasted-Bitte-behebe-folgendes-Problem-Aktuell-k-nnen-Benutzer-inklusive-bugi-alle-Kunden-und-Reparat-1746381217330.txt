Bitte behebe folgendes Problem: Aktuell kÃ¶nnen Benutzer â€“ inklusive "bugi" â€“ alle Kunden und ReparaturauftrÃ¤ge einsehen. Das ist nicht korrekt und widerspricht dem Prinzip der Mandantentrennung (Shop-Isolierung). Jeder Benutzer (inklusive Admins) soll ausschlieÃŸlich Zugriff auf Daten seines eigenen Shops (shopId) haben.

ğŸ” Ziel: Jeder Benutzer darf nur **Kunden** und **Reparaturen** mit seiner eigenen `shopId` sehen, bearbeiten oder lÃ¶schen â€“ unabhÃ¤ngig davon, ob er Admin ist oder nicht. Eine zentrale Ãœbersicht Ã¼ber andere Shops ist **nicht gewÃ¼nscht und nicht DSGVO-konform**.

ğŸ”§ Vorgehensweise:

1. **Ã–ffne `server/storage.ts`**  
   und Ã¼berprÃ¼fe/Ã¤ndere alle Methoden, die mit `customers` und `repairs` arbeiten:
   - `getAllCustomers(user)`
   - `getCustomer(id, user)`
   - `findCustomersByName(name, user)`
   - `createCustomer(data, user)`
   - `updateCustomer(id, data, user)`
   - `deleteCustomer(id, user)`
   - `getAllRepairs(user)`
   - `getRepair(id, user)`
   - `getRepairsByCustomerId(customerId, user)`
   - `createRepair(data, user)`
   - `updateRepair(id, data, user)`
   - `deleteRepair(id, user)`
   - `getStats(user)`  
   usw.

2. **In jeder Methode sicherstellen:**
   - Es wird **immer nach `shopId` gefiltert**:
     ```ts
     const baseFilter = eq(table.shopId, user.shopId);
     ```
   - Adminrechte dÃ¼rfen **nicht** zu globalem Zugriff fÃ¼hren â€“ keine Ausnahmen fÃ¼r `bugi`.

3. **Stelle sicher, dass `user.shopId` korrekt in `req.user` enthalten ist**, und in `routes.ts` bzw. `admin-routes.ts` an alle Speicherfunktionen Ã¼bergeben wird.

4. **LÃ¶sche oder deaktiviere evtl. vorhandene `if (isAdmin)`-BlÃ¶cke**, die `bugi` vollstÃ¤ndigen Zugriff geben. Das ist **nicht erwÃ¼nscht**.

5. **Frontend prÃ¼fen** (optional): Wenn Kunden- oder Auftragslisten dort geladen werden, muss sichergestellt sein, dass keine API-Antworten Daten anderer Shops enthalten.

ğŸ›¡ Ergebnis: Jeder Benutzer â€“ auch Admins â€“ sieht **ausschlieÃŸlich** Daten seines eigenen Shops (`shopId`). Es gibt **keinen Zugriff** auf Daten anderer Shops.

Bitte implementiere diese EinschrÃ¤nkungen jetzt vollstÃ¤ndig in der Codebasis.
