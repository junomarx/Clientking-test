Roadmap â€“ Multi-Shop Admin System
Phase 1: Backend Security (Kritisch zuerst)
Ziel: DSGVO-konforme Shop-Isolation, sichere Permissions, Audit-Logging.
Task	Beschreibung	Verantwortlich / Hinweise
Audit-Tabelle erstellen	Neue DB-Tabelle audit_logs mit Feldern: id, userId, shopId, action, timestamp, status, reason	DB-Admin / Backend
Logging aller Shop-Switches	Jede temporÃ¤re Shop-Session von Multi-Shop Admins protokollieren	Backend-Service
Logging fehlerhafter Zugriffe	Wenn Multi-Shop Admin auf unberechtigten Shop zugreifen will	Backend-Service
Doppelte Permission-PrÃ¼fung	PrÃ¼fen: granted && !revoked && aktiv bei jedem Zugriff	Backend
Session-basiertes Shop-Switching	TemporÃ¤re currentShopId in Session / JWT speichern	Backend
Rate-Limiting	Optional: Limits fÃ¼r Permission Requests, um Missbrauch zu verhindern	Backend
Phase 2: Backend API-Erweiterungen
Ziel: Alle notwendigen Endpoints fÃ¼r Superadmin, Shop Owner und Multi-Shop Admin bereitstellen.
Endpoint	Beschreibung	Status / PrioritÃ¤t
/api/shop-owner/pending-requests	Shop Owner sieht offene Permission-Anfragen	ðŸ”² Muss implementiert werden
/api/shop-owner/approve-request/:id	Shop Owner genehmigt Anfrage	ðŸ”²
/api/shop-owner/deny-request/:id	Shop Owner lehnt Anfrage ab	ðŸ”²
/api/superadmin/assign-shops	Superadmin weist Multi-Shop Admin Shops zu	ðŸ”²
/api/superadmin/bulk-assign	Bulk-Zuweisung von Shops	ðŸ”²
/api/multi-shop/switch-shop/:shopId	TemporÃ¤rer Shop-Kontext fÃ¼r Multi-Shop Admin	ðŸ”²
/api/multi-shop/current-context	Liefert aktuellen Shop-Kontext	ðŸ”²
Hinweis: Phase 2 baut direkt auf Phase 1 auf â€“ keine Frontend-Funktion darf Zugriff ohne vorherige SicherheitsprÃ¼fungen ermÃ¶glichen.
Phase 3: Frontend-Interfaces
Ziel: Multi-Shop Admin, Shop Owner und Superadmin Dashboards funktional erweitern.
Shop Owner
Pending Requests Liste anzeigen
Approve / Deny Buttons mit BegrÃ¼ndung
Notification System fÃ¼r neue Anfragen
Superadmin
Auswahl von Multi-Shop Admins
Shop-Zuweisung (Einzel + Bulk)
Status-Dashboard (Pending / Approved / Rejected)
Multi-Shop Admin
Shop-Switcher Dropdown
â€žShop Details Ã¶ffnenâ€œ Button pro Shop
TemporÃ¤re Shop-Owner-Ã¤hnliche Ansicht
Priorisierung
Phase 1 â€“ Backend Security & Audit Logging âœ… absolut kritisch
Phase 2 â€“ API-Erweiterungen ðŸ”² nur nach Sicherheitsimplementierung
Phase 3 â€“ Frontend-Interfaces ðŸ”² optional, sobald Phase 1+2 stabil laufen